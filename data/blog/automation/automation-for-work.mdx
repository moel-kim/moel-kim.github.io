---
title: 현업에서 써먹는 자동화
date: 2024-08-04
tags:
  - automation
  - essay
draft: false
summary: 생산성 향상을 위해 했던 고민들
images:
  - https://cdn.prod.website-files.com/5f23ea6573efdd34e5776065/636e1f4daaa7ec2581239cdf_Test%20Automation%20requires%20coding%20skill%2C%20discuss.jpg
layout: PostLayout
---

<TOCInline toc={props.toc} exclude={'Intro'} asDisclosure />

## Intro

오늘은 `현업에서 써먹는 자동화`란 주제로 글을 쓰려고 합니다.

글을 시작하기에 앞서 생산성이라는 주제로 간략하게 이야기를 시작해보려 합니다.

들어가기에 앞서 생산성이란 무엇일까요? 

생산성이란

>주어진 자원(시간, 노력, 비용 등)을 활용해 얼마나 많은 성과나 결과를 효과적으로 창출할 수 있는지

를 나타내는 개념입니다. 정확한 정의는 [생산성](https://ko.wikipedia.org/wiki/%EC%83%9D%EC%82%B0%EC%84%B1) 을 참고해주세요

그럼 프로그래머 관점으로 치환보면

> 주어진 시간 내에 호율적으로 고품질의 소프트웨어를 개발하고 유지보수할 수 있는 능력

이라고 볼 수 있습니다.

가장 중요한 부분이 `주어진 시간 내`라고 생각합니다. 하지만 아무것도 없는 환경에서 `주어진 시간 내`라는 요소와 `고품질`이라는 두 요소를 챙기는 것은 불가능합니다.

또한 `개발` 뿐만이 아니라 `유지보수`가 용이한 코드를 챙기는 것은 일반적으로 시간이 많이 드는 작업입니다.

위에서 제시한 세 가지 요소(기한, 고품질, 유지보수)를 모두 챙기려면 어떻게 해야할까요?

제가 생각하는 가장 좋은 방법은 `자동화` 입니다. 특히 `반복되는 실수`를 방지하고 구성원이 `개발에만 집중할 수 있는 환경`을 조성하는 자동화가 중요하다고 생각하는데요

오늘은 지난 11개월 동안 진행했던 자동화에 대해서 이야기해보려고 합니다.

## 자동화

### 자동화의 정의

프로그래밍 영역에서 자동화란

> 반복적이거나 수동적인 작업을 사람이 직접 수행하지 않고, 소프트웨어나 도구를 통해 자동으로 처리하는 프로세스

을 의미합니다.

이를 통해 효율성을 높이고, 오류를 줄이며, 개발자들이 더 중요한 창의적인 작업에 집중할 수 있도록 돕습니다.

무엇보다 `실패했지만 실패가 반복되지 않는 환경`을 만들 수 있습니다.


### 자동화하는 이유

우선 대표적인 두가지가 있습니다.

`개발 경험 일관화`와 `개발 효율성이 향상`이 있습니다.

이해하기 쉽도록 식당 주문 API를 만들어보면서 알아봅시다

우선 API Spec을 관리를 어떻게 할지 선택할 때, 다음과 같은 선택지가 있습니다

* Excel
* Swagger
* Git Book
* etc..(Redocly, Slate, ..)

이 때 한 개발자는 API가 많지 않을거라 예상해, Excel을 이용해서 API Spec을 관리하기로 결심했습니다.

해당 개발자가 정리한 식당 주문 API의 Spec은 다음과 같습니다

![order](https://d.pr/i/GvcZ7I.png)

Excel을 통해 API를 만들어도 프로그램을 제작하는데 문제는 없습니다.

하지만 현재는 거의 쓰지 않는 방식인데요, 이유는 다음과 같습니다

- 변경에 취약하다. 
	- API Endpoint나 Parameter, Request, Response의 field 이름이 바뀌면, 타입 시스템을 통해 변경을 감지할 수 없다
- 실제 구현과 문서과 분리되어 있어 문서 관리에 어려움이 생긴다
- 수시로 변화하는 비지니스에 안정적으로 대응하기 어렵다
- **결과적으로 돈을 벌기 어려운 구조**를 가진다

즉, 가치를 창출해야하는 개발자의 입장에서 위의 Excel 방식은 단점이 너무 많아보입니다.

그럼 위의 단점을 개선하기 이전에, 어떤 점이 개선될 수 있는지 정리하면 다음과 같습니다


- 변경이 되면 Type 레벨에서 변경을 감지할 수 있으면 좋겠다
- Frontend, Backend를 위한 변경 감지 Plugin이 있고, 나아가 Testing 자동화도 되면 좋겠다
- (옵션) Spec이 정의된 보편적으로 사용되는 Protocol이 있고, 관련된 Parser도 있으면 좋겠다

위의 요구사항이 반영된 무언가가 있다면, 비니지스 요구사항이 추가되거나 프로그래머의 실수가 발생해도 빠르게 대응이 가능할 것 같습니다.

또한 Build Test Automation, API Test Automation 등이 가능하여 개발자의 생산성을 높여줄 수 있을 것 같습니다


사실 위의 개선 사항은, OpenAPI Spec을 통해 나름 보편적인 Protocol, Parser가 제작되어서 널리 사용되고 있습니다.


### 왜 자동화하는가?

자동화가 중요한 이유는 다음과 같습니다

- 동료의 개발경험(DX) 향상
	- (무언가를) 자동 생성하여, 빠른 개발 프로세스 수립
- 개발 일관성
	- (무언가를) 추가할 때, 자동으로 네이밍 및 일관된 방식으로 함
	- 자동으로 추측 가능성 향상을 통한 `의사 소통 비용 절감`
		- 의사 소통 비용 절감
- 기능 확장 비용 절감

API Spec의 예시처럼 Spec을 정의할 수 있다면 동료의 개발 경험을 향상시킬 수 있습니다.

예를 들면 `API Spec을 자동으로 생성`하여, 기존에 없던 FE/BE 개발자간 빠른 개발 프로세스를 수립할 수 있습니다.

API Spec을 추가할때, 자동으로 API 함수의 네이밍을 만들어주거나, API Spec을 추가하는 함수를 제공하여 일관된 방식으로 API를 추가할 수 있으며

이를 통해 API Spec을 추가할때, 프로그래머 입장에서도 api 추가가 부담스럽지 않습니다


### 자동화의 종류

자동화의 종류를 3가지로 분류했습니다.

1. **도입** **비용이** **무한히** **낮고**, 당장 팀에 직관적으로 도움이 되는 자동화
2. **도입** **비용이** **많이** **들지만**, 미래에는 팀에 도움 되는 자동화
3. 상황에 따라 적용해야하는 자동화

예를 들면 첫번째 경우는 OpenAPI Spec을 이용해 Mockup 서버를 자동으로 생성하는 경우가 있습니다.

두번째 경우는 주로 새로운 라이브러리나 개발 프로세스를 도입

마지막은 문화적 관점(Pull Request Title Check)에서 시도할 수 있는 자동화들이 있었습니다. 주로 회사의 규모, 구성원들의 성향에 따라 도입 여부가 결정되는 것들이 많았어요.

오늘은 위의 3가지 관점에서 도입할 수 있는 자동화를 소개하겠습니다.


## 1. **도입** **비용이** **낮은** 자동화

### Mock Server AutoGen(with. OpenAPI)

#### 문제 파악

#### 제작 의도

#### 제작 과정

#### 기대 효과

#### 좋았던 점 / 아쉬운 점

## 2. **도입** **비용이** **높은** 자동화(실제 도입하지 않음)

### Design Token, SVG AutoGen(With. Figma Token)

#### 문제 파악

#### 제작 의도

#### 제작하는 방법


## 3. **상황**에 따라 적용해야하는 자동화

### PR title/label checker(With. Github Action)

#### 문제 파악

#### 제작 의도

#### 제작 과정

#### 기대 효과

#### 좋았던 점 / 아쉬운 점



### 도입하고 싶은 자동화

UI Gen(v0)